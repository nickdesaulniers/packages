{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/nickdesaulniers/webgl-shader-loader\">webgl-shader-loader</a><div class=\"contrib\"></div></h1>\n<p>Asynchronous load, compile, and link webgl shader programs</p>\n<pre><code class=\"lang-html\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>&lt;script&#xA0;src=&quot;webGLShaderLoader.js&quot;&gt;&lt;/script&gt;</span></span></div>\n</code></pre>\n<p><img src=\"https://raw.githubusercontent.com/nickdesaulniers/webgl-shader-loader/master/timing.png\" alt=\"timing\"></p>\n<p>Shaders can be fetched and compiled independently.  Images used for textures\ncan also be fetched asynchronously.  This library helps you load, compile,\nand link shaders and images without waiting for each other, other than a\nvertex or fragment shader waiting to link with its compiled other half.</p>\n<p>##Load WebGL Programs From Shader URL Pairs And Images From URLs</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;shaderUrls&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>vertex1.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>frag1.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>vertex2.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>frag2.glsl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;imgUrls&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>texture1.jpg</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>texture2.jpg</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>texture3.jpg</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>WebGLShaderLoader</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>load</span></span><span class=\"meta brace round js\"><span>(</span></span><span>$gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;shaderUrls</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;imgUrls</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>errors</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>gl</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>programs</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>images</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span>&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>errors</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>length</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>return</span></span><span>&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.error</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>apply</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;errors</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>programs</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;images</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>useProgram</span><span class=\"meta brace round js\"><span>(</span></span><span>programs</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>program</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>uniform1f</span><span class=\"meta brace round js\"><span>(</span></span><span>programs</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>uniforms</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>uTime</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>42.0</span></span><span class=\"meta brace round js\"><span>)</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div>\n</code></pre>\n<p><code>$gl</code> can be an existing webGL context or a canvas element (in the DOM or not).</p>\n<p><code>shaderUrls</code> is an array of strings of URLs to shaders. Expects pairs of atleast one,\nalternating vertexShaderURL, fragmentShaderURL.</p>\n<p><code>imgUrls</code> is an array of strings of URLs to <code>&lt;img&gt;</code>s. May be empty or null.</p>\n<p><code>errors</code> is a possibly empty array of strings.</p>\n<p><code>gl</code> is a webGL context, regardless of <code>$gl</code>.</p>\n<p><code>programs</code> is an array of objects, in order of the pairs. The objects contain\nthe keys <code>attributes</code>, <code>program</code>, and <code>uniforms</code>.  <code>program</code> is the\nWebGLProgram, ready for use.  The <code>attributes</code> and <code>uniforms</code> keys point to\nobjects whose keys are the identifiers and values are the locations.</p>\n<p><code>images</code> is a possibly empty array of img elements ready to be sampled.</p>\n<p>##Load WebGL Program From Shader String Literals</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;loader&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>WebGLShaderLoader</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>loader</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>loadFromStr</span><span class=\"meta brace round js\"><span>(</span></span><span>vertexShaderStr</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;fragmentShaderStr</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>errors</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>program</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span>&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>errors</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>length</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>&gt;</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.error</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>apply</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;errors</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>return</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>program</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div>\n</code></pre>\n<p>##Load WebGL Program From XHR&apos;d Files</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;loader&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>WebGLShaderLoader</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>loader</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>loadFromXHR</span><span class=\"meta brace round js\"><span>(</span></span><span>vertexShaderPath</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;fragmentShaderPath</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>errors</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>program</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span>&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>errors</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>length</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>&gt;</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.error</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>apply</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;errors</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>return</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.log</span></span><span class=\"meta brace round js\"><span>(</span></span><span>program</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div>\n</code></pre>\n<p>###Notes</p>\n<ul>\n<li>Look at test.js for further usage/example</li>\n<li>errors is an array of strings of usage, compilation, and linkage errors, it&apos;s up to you to check these.</li>\n</ul>\n<p>###License\n&quot;THE BEER-WARE LICENSE&quot; (Revision 42):</p>\n<p><a href=\"http://github.com/nickdesaulniers/webgl-shader-loader/blob/master/mailto:nick@mozilla.com\">nick@mozilla.com</a> wrote this file. As long as you retain this notice you\ncan do whatever you want with this stuff. If we meet some day, and you think\nthis stuff is worth it, you can buy me a beer in return.  Nick Desaulniers</p>\n"}