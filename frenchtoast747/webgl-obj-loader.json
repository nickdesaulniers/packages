{"readme":"<h1 class=\"title\"><a target=\"_blank\" href=\"https://github.com/frenchtoast747/webgl-obj-loader\">webgl-obj-loader</a><div class=\"contrib\"></div></h1>\n<p>A simple script to help bring OBJ models to your WebGL world. I originally\nwrote this script for my CS Graphics class so that we didn&apos;t have to only have\ncubes and spheres for models in order to learn WebGL. At the time, the only\nsort of model loader for WebGL was <a href=\"http://threejs.org/\">Mr. Doob&apos;s ThreeJS</a>. And in order to use the\nloaders you had to use the entire framework (or do some very serious hacking\nand duct-taping in order get the model information). My main focus in creating\nthis loader was to easily allow importing models without having to have special\nknowledge of a 3D graphics program (like Blender) while keeping it low-level\nenough so that the focus was on learning WebGL rather than learning some\nframework.</p>\n<iframe scrolling=\"no\" seamless=\"seamless\" src=\"http://frenchtoast747.github.io/webgl-obj-loader/\"></iframe><h2 id=\"mesh-objstr-\">Mesh(objStr)</h2>\n<p>The main Mesh class. The constructor will parse through the OBJ file data\nand collect the vertex, vertex normal, texture, and face information. This\ninformation can then be used later on when creating your VBOs. Look at the\n<code>initMeshBuffers</code> source for an example of how to use the newly created Mesh</p>\n<h3 id=\"attributes-\">Attributes:</h3>\n<ul>\n<li><strong>vertices:</strong> an array containing the vertex values that correspond to each unique face index. The array is flat in that each vertex&apos;s component is an element of the array. For example: with <code>verts = [1, -1, 1, ...]</code>, <code>verts[0] is x</code>, <code>verts[1] is y</code>, and <code>verts[2] is z</code>. Continuing on, <code>verts[3]</code> would be the beginning of the next vertex: its x component. This is in preparation for using <code>gl.ELEMENT_ARRAY_BUFFER</code> for the <code>gl.drawElements</code> call.</li>\n<li><strong>vertexNormals:</strong> an array containing the vertex normals that correspond to each unique face index. It is flat, just like <code>vertices</code>.</li>\n<li><strong>textures:</strong> an array containing the <code>s</code> and <code>t</code> (or <code>u</code> and <code>v</code>) coordinates for this mesh&apos;s texture. It is flat just like <code>vertices</code> except it goes by groups of 2 instead of 3.</li>\n<li><strong>indices:</strong> an array containing the indicies to be used in conjunction with the above three arrays in order to draw the triangles that make up faces. For example, <code>indices[42]</code> could contain the number <code>38</code>. This would then be used internally by WebGL on all three of the above arrays telling which vertex, normal, and texture coords to use: <code>vertices[38]</code>, <code>vertexNormals[38]</code>, and <code>textures[38]</code>.</li>\n</ul>\n<h3 id=\"params-\">Params:</h3>\n<ul>\n<li><strong>objStr</strong> a string representation of an OBJ file with newlines preserved.</li>\n</ul>\n<p>A simple example:</p>\n<p>In your <code>index.html</code> file:</p>\n<pre><code class=\"lang-html\"><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>html</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag script html\"><span>script</span></span><span>&#xA0;</span><span class=\"entity other attribute-name html\"><span>type</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>text/plain</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&#xA0;</span><span class=\"meta attribute-with-value id html\"><span class=\"entity other attribute-name id html\"><span>id</span></span><span class=\"punctuation separator key-value html\"><span>=</span></span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span class=\"meta toc-list id html\"><span>my_cube.obj</span></span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;####</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"constant other js\"><span>OBJ</span></span><span>&#xA0;File&#xA0;Generated&#xA0;by&#xA0;Blender</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;####</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;o&#xA0;my_cube</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>obj</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;v&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;vn&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>-</span></span><span class=\"constant numeric js\"><span>1</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>1</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>1&#xA0;2//1&#xA0;3//1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>3</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>1&#xA0;4//1&#xA0;1//1</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>5</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>2&#xA0;1//2&#xA0;4//2</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>4</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>2&#xA0;8//2&#xA0;5//2</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>2</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>3&#xA0;6//3&#xA0;7//3</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>7</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>3&#xA0;3//3&#xA0;2//3</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>7</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>4&#xA0;8//4&#xA0;5//4</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>5</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>4&#xA0;6//4&#xA0;7//4</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>5</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>5&#xA0;6//5&#xA0;2//5</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>2</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>5&#xA0;1//5&#xA0;5//5</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>8</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>6&#xA0;4//6&#xA0;3//6</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;f&#xA0;</span><span class=\"constant numeric js\"><span>3</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>6&#xA0;7//6&#xA0;8//6</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag script html\"><span>script</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>html</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div>\n</code></pre>\n<p>And in your <code>app.js</code>:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gl&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getContext</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>webgl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;objStr&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementById</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>my_cube.obj</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>innerHTML</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;mesh&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>OBJ.Mesh</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>objStr</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;use&#xA0;the&#xA0;included&#xA0;helper&#xA0;function&#xA0;to&#xA0;initialize&#xA0;the&#xA0;VBOs</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;if&#xA0;you&#xA0;don&apos;t&#xA0;want&#xA0;to&#xA0;use&#xA0;this&#xA0;function,&#xA0;have&#xA0;a&#xA0;look&#xA0;at&#xA0;its</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;source&#xA0;to&#xA0;see&#xA0;how&#xA0;to&#xA0;use&#xA0;the&#xA0;Mesh&#xA0;instance.</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"constant other js\"><span>OBJ</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>initMeshBuffers</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;have&#xA0;a&#xA0;look&#xA0;at&#xA0;the&#xA0;initMeshBuffers&#xA0;docs&#xA0;for&#xA0;an&#xA0;exmample&#xA0;of&#xA0;how&#xA0;to</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;render&#xA0;the&#xA0;model&#xA0;at&#xA0;this&#xA0;point</span><span>&#xA0;</span></span></span></div>\n</code></pre>\n<h2 id=\"some-helper-functions\">Some helper functions</h2>\n<h3 id=\"downloadmeshes-nameandurls-completioncallback-meshes-\">downloadMeshes(nameAndURLs, completionCallback, meshes)</h3>\n<p>Takes in a JS Object of <code>mesh_name</code>, <code>&apos;/url/to/OBJ/file&apos;</code> pairs and a callback\nfunction. Each OBJ file will be ajaxed in and automatically converted to\nan OBJ.Mesh. When all files have successfully downloaded the callback\nfunction provided will be called and passed in an object containing\nthe newly created meshes.</p>\n<p><strong>Note:</strong> In order to use this function as a way to download meshes, a\nwebserver of some sort must be used.</p>\n<h4 id=\"params-\">Params:</h4>\n<ul>\n<li><p><strong>nameAndURLs:</strong> an object where the key is the name of the mesh and the value is the url to that mesh&apos;s OBJ file</p>\n</li>\n<li><p><strong>completionCallback:</strong> should contain a function that will take one parameter: an object array where the keys will be the unique object name and the value will be a Mesh object</p>\n</li>\n<li><p><strong>meshes:</strong> In case other meshes are loaded separately or if a previously declared variable is desired to be used, pass in a (possibly empty) json object of the pattern: <code>{ &apos;mesh_name&apos;: OBJ.Mesh }</code></p>\n</li>\n</ul>\n<p>A simple example:</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;app&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"punctuation section scope begin js\"><span>{</span></span><span class=\"punctuation section scope end js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;app</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>meshes&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"punctuation section scope begin js\"><span>{</span></span><span class=\"punctuation section scope end js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gl&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"support class js\"><span>document</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementById</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>mycanvas</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getContext</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>webgl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"entity name function js\"><span>webGLStart</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>meshes</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;app</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>meshes&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;meshes</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;initialize&#xA0;the&#xA0;VBOs</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"constant other js\"><span>OBJ</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>initMeshBuffers</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;app</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>meshes</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>suzanne</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"constant other js\"><span>OBJ</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>initMeshBuffers</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;app</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>meshes</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>sphere</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta delimiter method period js\"><span>.</span><span>.</span><span>.</span></span><span>&#xA0;other&#xA0;cool&#xA0;stuff&#xA0;</span><span class=\"meta delimiter method period js\"><span>.</span><span>.</span><span>.</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;refer&#xA0;to&#xA0;the&#xA0;initMeshBuffers&#xA0;docs&#xA0;for&#xA0;an&#xA0;example&#xA0;of</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;how&#xA0;to&#xA0;render&#xA0;the&#xA0;mesh&#xA0;to&#xA0;the&#xA0;screen&#xA0;after&#xA0;calling</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;initMeshBuffers</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta function js\"><span class=\"support class js\"><span>window</span></span><span>.</span><span class=\"entity name function js\"><span>onload</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"storage type function js\"><span>function</span></span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"constant other js\"><span>OBJ</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>downloadMeshes</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>suzanne</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>models/suzanne.obj</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;located&#xA0;in&#xA0;the&#xA0;models&#xA0;folder&#xA0;on&#xA0;the&#xA0;server</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;&#xA0;&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>sphere</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>models/sphere.obj</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;webGLStart</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div>\n</code></pre>\n<h3 id=\"initmeshbuffers-gl-mesh-\">initMeshBuffers(gl, mesh)</h3>\n<p>Takes in the WebGL context and a Mesh, then creates and appends the buffers\nto the mesh object as attributes.</p>\n<h4 id=\"params-\">Params:</h4>\n<ul>\n<li><p><strong>gl</strong> <em>WebGLRenderingContext</em> the <code>canvas.getContext(&apos;webgl&apos;)</code> context instance</p>\n</li>\n<li><p><strong>mesh</strong> <em>Mesh</em> a single <code>OBJ.Mesh</code> instance</p>\n</li>\n</ul>\n<p>The newly created mesh attributes are:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Attrbute</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><strong>normalBuffer</strong></td>\n<td>contains the model&apos;s Vertex Normals</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">normalBuffer.itemSize</td>\n<td>set to 3 items</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">normalBuffer.numItems</td>\n<td>the total number of vertex normals</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>textureBuffer</strong></td>\n<td>contains the model&apos;s Texture Coordinates</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">textureBuffer.itemSize</td>\n<td>set to 2 items</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">textureBuffer.numItems</td>\n<td>the number of texture coordinates</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>vertexBuffer</strong></td>\n<td>contains the model&apos;s Vertex Position Coordinates (does not include w)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">vertexBuffer.itemSize</td>\n<td>set to 3 items</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">vertexBuffer.numItems</td>\n<td>the total number of vertices</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>indexBuffer</strong></td>\n<td>contains the indices of the faces</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">indexBuffer.itemSize</td>\n<td>is set to 1</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">indexBuffer.numItems</td>\n<td>the total number of indices</td>\n</tr>\n</tbody>\n</table>\n<p>A simple example (a lot of steps are missing, so don&apos;t copy and paste):</p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;gl&#xA0;&#xA0;&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;canvas</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getContext</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>webgl</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;mesh&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>OBJ.Mesh</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>obj_file_data</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;compile&#xA0;the&#xA0;shaders&#xA0;and&#xA0;create&#xA0;a&#xA0;shader&#xA0;program</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;shaderProgram&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>createProgram</span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;compilation&#xA0;stuff&#xA0;here</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta delimiter method period js\"><span>.</span><span>.</span><span>.</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;make&#xA0;sure&#xA0;you&#xA0;have&#xA0;vertex,&#xA0;vertex&#xA0;normal,&#xA0;and&#xA0;texture&#xA0;coordinate</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;attributes&#xA0;located&#xA0;in&#xA0;your&#xA0;shaders&#xA0;and&#xA0;attach&#xA0;them&#xA0;to&#xA0;the&#xA0;shader&#xA0;program</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexPositionAttribute&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getAttribLocation</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>aVertexPosition</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>enableVertexAttribArray</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexPositionAttribute</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexNormalAttribute&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getAttribLocation</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>aVertexNormal</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>enableVertexAttribArray</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexNormalAttribute</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureCoordAttribute&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>getAttribLocation</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>aTextureCoord</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>enableVertexAttribArray</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureCoordAttribute</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;create&#xA0;and&#xA0;initialize&#xA0;the&#xA0;vertex,&#xA0;vertex&#xA0;normal,&#xA0;and&#xA0;texture&#xA0;coordinate&#xA0;buffers</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;and&#xA0;save&#xA0;on&#xA0;to&#xA0;the&#xA0;mesh&#xA0;object</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"constant other js\"><span>OBJ</span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span>initMeshBuffers</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;now&#xA0;to&#xA0;render&#xA0;the&#xA0;mesh</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>bindBuffer</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>ARRAY_BUFFER</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexBuffer</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexAttribPointer</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexPositionAttribute</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexBuffer</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>itemSize</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>FLOAT</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant language boolean false js\"><span>false</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;it&apos;s&#xA0;possible&#xA0;that&#xA0;the&#xA0;mesh&#xA0;doesn&apos;t&#xA0;contain</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;any&#xA0;texture&#xA0;coordinates&#xA0;(e.g.&#xA0;suzanne.obj&#xA0;in&#xA0;the&#xA0;development&#xA0;branch).</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;in&#xA0;this&#xA0;case,&#xA0;the&#xA0;texture&#xA0;vertexAttribArray&#xA0;will&#xA0;need&#xA0;to&#xA0;be&#xA0;disabled</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;before&#xA0;the&#xA0;call&#xA0;to&#xA0;drawElements</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"keyword control js\"><span>if</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"keyword operator js\"><span>!</span></span><span>mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textures</span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support constant js\"><span>length</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>disableVertexAttribArray</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureCoordAttribute</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"keyword control js\"><span>else</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;if&#xA0;the&#xA0;texture&#xA0;vertexAttribArray&#xA0;has&#xA0;been&#xA0;previously</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation whitespace comment leading js\"><span>&#xA0;&#xA0;</span></span><span class=\"comment line double-slash js\"><span class=\"punctuation definition comment js\"><span>//</span></span><span>&#xA0;disabled,&#xA0;then&#xA0;it&#xA0;needs&#xA0;to&#xA0;be&#xA0;re-enabled</span><span>&#xA0;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>enableVertexAttribArray</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureCoordAttribute</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>bindBuffer</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>ARRAY_BUFFER</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureBuffer</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexAttribPointer</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureCoordAttribute</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>textureBuffer</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>itemSize</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>FLOAT</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant language boolean false js\"><span>false</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>bindBuffer</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>ARRAY_BUFFER</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>normalBuffer</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexAttribPointer</span><span class=\"meta brace round js\"><span>(</span></span><span>shaderProgram</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>vertexNormalAttribute</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>normalBuffer</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>itemSize</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>FLOAT</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant language boolean false js\"><span>false</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>bindBuffer</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>ELEMENT_ARRAY_BUFFER</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;model</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>indexBuffer</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>drawElements</span><span class=\"meta brace round js\"><span>(</span></span><span>gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>TRIANGLES</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;model</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>mesh</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>indexBuffer</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>numItems</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;gl</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>UNSIGNED_SHORT</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"constant numeric js\"><span>0</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div>\n</code></pre>\n<h3 id=\"deletemeshbuffers-gl-mesh-\">deleteMeshBuffers(gl, mesh)</h3>\n<p>Deletes the mesh&apos;s buffers, which you would do when deleting an object from a\nscene so that you don&apos;t leak video memory.  Excessive buffer creation and\ndeletion leads to video memory fragmentation.  Beware.</p>\n<h2 id=\"node-js\">Node.js</h2>\n<p><code>npm install webgl-obj-loader</code></p>\n<pre><code class=\"lang-javascript\"><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;fs&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>fs</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;</span><span class=\"constant other js\"><span>OBJ</span></span><span>&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"support function js\"><span>require</span></span><span class=\"meta brace round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>webgl-obj-loader</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;meshPath&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>./development/models/sphere.obj</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;opt&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>{</span></span><span>&#xA0;encoding</span><span class=\"keyword operator js\"><span>:</span></span><span>&#xA0;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&apos;</span></span><span>utf8</span><span class=\"punctuation definition string end js\"><span>&apos;</span></span></span><span>&#xA0;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;</span></span></div><div class=\"line\"><span class=\"source js\"><span>fs</span><span class=\"meta delimiter method period js\"><span>.</span></span><span>readFile</span><span class=\"meta brace round js\"><span>(</span></span><span>meshPath</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;opt</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&#xA0;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&#xA0;</span><span class=\"punctuation definition parameters begin js\"><span>(</span></span><span class=\"variable parameter function js\"><span>err</span></span><span class=\"meta object delimiter js\"><span>,</span></span><span>&#xA0;</span><span class=\"variable parameter function js\"><span>data</span></span><span class=\"punctuation definition parameters end js\"><span>)</span></span></span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"keyword control js\"><span>if</span></span><span>&#xA0;</span><span class=\"meta brace round js\"><span>(</span></span><span>err</span><span class=\"meta brace round js\"><span>)</span></span><span>&#xA0;</span><span class=\"keyword control js\"><span>return</span></span><span>&#xA0;</span><span class=\"entity name type object js console\"><span>console</span></span><span class=\"support function js console\"><span>.error</span></span><span class=\"meta brace round js\"><span>(</span></span><span>err</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&#xA0;&#xA0;</span><span class=\"storage modifier js\"><span>var</span></span><span>&#xA0;mesh&#xA0;</span><span class=\"keyword operator js\"><span>=</span></span><span>&#xA0;</span><span class=\"meta class instance constructor\"><span class=\"keyword operator new js\"><span>new</span></span><span>&#xA0;</span><span class=\"entity name type instance js\"><span>OBJ.Mesh</span></span></span><span class=\"meta brace round js\"><span>(</span></span><span>data</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta brace curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div>\n</code></pre>\n<h2 id=\"demo\">Demo</h2>\n<p><a href=\"http://frenchtoast747.github.com/webgl-obj-loader/\">http://frenchtoast747.github.com/webgl-obj-loader/</a>\nThis demo is the same thing inside of the gh-pages branch. Do a <code>git checkout gh-pages</code> inside of the webgl-obj-loader directory to see how the OBJ loader is used in a project.</p>\n<h2 id=\"changelog\">ChangeLog</h2>\n<p><strong>0.1.1</strong></p>\n<ul>\n<li>Support for NodeJS.</li>\n</ul>\n<p><strong>0.1.0</strong></p>\n<ul>\n<li>Dropped jQuery dependency: <code>downloadMeshes</code> no longer requires jQuery to ajax in the OBJ files.</li>\n<li>changed namespace to something a little shorter: <code>OBJ</code></li>\n<li>Updated documentation</li>\n</ul>\n<p><strong>0.0.3</strong></p>\n<ul>\n<li>Initial support for Quad models</li>\n</ul>\n<p><strong>0.0.2</strong></p>\n<ul>\n<li>Texture Coordinates are now loaded into mesh.textures</li>\n</ul>\n<p><strong>0.0.1</strong></p>\n<ul>\n<li>Vertex Normals are now loaded into mesh.vertexNormals</li>\n</ul>\n<p><a href=\"https://bitdeli.com/free\" title=\"Bitdeli Badge\"><img src=\"https://d2weczhvl823v0.cloudfront.net/frenchtoast747/webgl-obj-loader/trend.png\" alt=\"Bitdeli Badge\"></a></p>\n"}